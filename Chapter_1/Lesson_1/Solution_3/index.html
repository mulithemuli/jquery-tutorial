<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jQuery Tutorial Lesson one.1 – Solution #3</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <h1>jQuery Tutorial Lesson one.1 – Solution #3</h1>
    <h2>
        <a href="https://github.com/mulithemuli/jquery-tutorial#lesson-1--attaching-the-event-handlers" target="_blank">Attaching the event handlers</a>
    </h2>
    <h3>Comes in handy</h3>
    <ul class="collection">
        <li class="collection-item"><a href="https://github.com/mulithemuli/jquery-tutorial#functions-and-arrow-functions" target="_blank">Preflight / functions and arrow functions</a></li>
        <li class="collection-item"><a href="https://github.com/mulithemuli/jquery-tutorial#event-handlers" target="_blank">Preflight / Event handlers</a></li>
    </ul>
    <p>Write a script with jQuery which takes the entered text and prints it in a span below on button click.</p>
    <h3>Covered in this Lesson</h3>
    <ul class="collection">
        <li class="collection-item">jQuery Selectors</li>
        <li class="collection-item">jQuery Event handling</li>
        <li class="collection-item">basic DOM manipulation</li>
    </ul>
    <blockquote>
        It is allowed to add tags, IDs or classes. Although the existing ones must be preserved. The solution is
        possible without doing that.
    </blockquote>
    <h3>Solution</h3>
    <p>
        <a href="https://codepen.io/mulithemuli/pen/WNeGOxX" target="_blank">on CodePen</a>
    </p>
    <form>
        <div class="row">
            <div class="input-field col s12">
                <input id="text_1" type="text">
                <label for="text_1">Text #1</label>
                <span class="helper-text">You have typed: <span class="typed-text"></span></span>
            </div>
            <div class="col s12">
                <button class="btn waves-effect waves-light" type="button">Show Text #1</button>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <input id="text_2" type="text">
                <label for="text_2">Text #2</label>
                <span class="helper-text">You have typed: <span class="typed-text"></span></span>
            </div>
            <div class="col s12">
                <button class="btn waves-effect waves-light" type="button">Show Text #2</button>
            </div>
        </div>
    </form>
    <h3>Thoughts on the solution</h3>
    <p>
        This solution uses a <a href="https://api.jquery.com/jQuery/" target="_blank">context aware selector</a> to
        find the element which needs to be updated. The selected context is always the row containing all elements.
        But it could be a div container around the row as well. You might notice that the button moved outside of
        the <code>div.input-field</code> which we have done for html sturctural and optical purposes.
    </p>
    <p>
        This approach does not require all elements to be at the same level as the button which triggers the event.
        To find the container we use
        <a href="https://api.jquery.com/closest/" target="_blank"><code>.closest()</code></a>. With that method we
        query for the first parent which matches our filter.
        <a href="https://api.jquery.com/parent/" target="_blank"><code>.parent()</code></a> cannot be used since it
        would return the <code>div.input-field</code> which does not contain the button.
        <a href="https://api.jquery.com/parents/" target="_blank"><code>.parents()</code></a> would have worked in
        this example but might be unsafe since there might be more rows as grandparents and <code>.parents()</code>
        returns all parents.
    </p>
    <p>
        The advantages to the <a href="https://codepen.io/mulithemuli/pen/yLBaMem" target="_blank">first </a> and
        <a href="https://codepen.io/mulithemuli/pen/pozEPGd" target="_blank">second solution</a> is that the content
        and markup of a defined container is irrelevant as long as the container follows specific markup guidelines as
        the classes or number of tags inside.<br/> So with this approach we can try to make it more generic and
        probably a jQuery function.
    </p>
    <ul class="collection">
        <li class="collection-header">
            <h5>What have we done to make it work?</h5>
        </li>
        <li class="collection-item">Moving the button outside of the <code>div.input-field</code> for demonstration purposes</li>
        <li class="collection-item">Creating an additional span inside the <code>.helper-text</code> to add some label</li>
        <li class="collection-item">Attaching the event handler to every button</li>
        <li class="collection-item">Finding the closest row as our container (aka "context")</li>
        <li class="collection-item">Retrieving the entered value of the input based on the container</li>
        <li class="collection-item">Setting the text to the inner span (<code>span.typed-text</code>) of the <code>span.helper-text</code> but not touching the label</li>
    </ul>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js" integrity="sha384-ZOED+d9HxogEQwD+jFvux96iGQR9TxfJO+mPF2ZS0TuKH6eWrmvPsDpO6I0OWdiX" crossorigin="anonymous"></script>
<script src="script.js"></script>
</body>
</html>
